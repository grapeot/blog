Title: 120fps视频工作流的一些探索
Date: 2023-07-30 15:30
Category: Life
Tags: Chinese, Tutorial
Slug: 120fps
Summary: 探索120fps高帧率视频的拍摄、剪辑和调色工作流，分享使用达芬奇解决音视频同步和HDR上屏的实践经验，对比120fps与60fps的视觉差异。

我一直有明显的感觉，60fps的视频比30fps的视频顺滑很多，而且跟快门角度没有关系。30fps不论什么快门角度看起来都明显没有60fps顺滑，只是360度快门看起来糊一点，小角度快门清楚一点但是一顿一顿的。虽然确定60fps比30fps好很多，但一直犹豫有没有必要拍120fps。今天终于做了个双盲实验。我拍了一个8k 120fps的视频，然后渲染成2k 120fps和60fps（不升格，就先加速成60fps后以60fps放映），在iphone的120Hz小屏幕上展示，想看看就算不抠细节，只看运动整体，能不能分辨出来60fps和120fps。结果意外地发现百发百中——在数次实验中，我可以以100%的准确率分辨120fps和60fps的视频。看来继续增加fps真的有用，而且比我想象的更可感。

但是，当我实际开始剪辑拍摄好的120fps视频时，遇到了很多困难。

1. **拍摄**：无论是佳能R5的4K 120fps还是迅猛龙的8K 120fps，拍摄出来的视频的基准帧率或者说播放的帧率并不是120，而是30或者60。因此，如果他们直接导入剪辑软件，会呈现出一种升格的效果，或者说看起来像慢动作一样。可能是为了避免升格造成的音频的扭曲，这些视频文件的音频都是分开录制的，会有一个额外的wav文件，而不是像其他帧率的拍摄，音频跟视频是完全同步的。对于迅猛龙来说，音频和视频甚至不一样长（音频会长两秒），需要进行额外的裁剪工作。
2. **剪辑**：因为音频和视频的速度不一样，视频有升格效果，但音频没有，所以不能直接对视频剪辑，否则音频和视频会失去同步。如果想要得到正常的效果，需要先把音频和视频都拖入同一个timeline，然后加速视频，再剪掉音频多出的最后一节，这样音视频就实现了同步。然后再在timeline里进行具体的剪辑。但是，因为整个音视频都在timeline里，所以很多剪辑工具也无法使用，整个步骤非常繁琐。
3. **上屏预览**：对于Mac用户来说，这可能不是一个大问题，但对于Windows用户来说，由于色彩管理的复杂性，如果不使用额外的硬件，在Windows上剪辑HDR视频就无法实现所见即所得。一种经济实惠的解决方案是使用一个名为Blackmagic Remote Monitor的应用程序，它可以将iPhone或iPad作为一个额外的监视器，用于渲染HDR视频调色后的效果。但是，这个应用程序最高只支持60fps，当对120fps的视频进行调色时，它会报错并无法预览。因此，当我们在Windows上对120fps的HDR视频进行调色时，没有办法实现所见即所得。
4. **播放**：目前，120Hz的显示设备还很少见，主要集中在电竞领域。但是，这些电竞领域的显示器通常只强调高刷新率和低延迟，并不特别强调动态范围和高分辨率等特性。尤其是8K 120fps 10位HDR的显示设备几乎没有。因此，即使我们拍摄了这些视频，也只能在有限的设备上以更低的分辨率进行观看。
	
经过一段时间的摸索，我找到了一种使用达芬奇进行剪辑和调色的方法。虽然这个方法有些繁琐，但是浪费的时间相对有限，我认为这是一个相对较好的工作流程（有时间我可以拍个演示视频）。

对于拍摄和播放，我们基本上做不了什么，只能使用相机的现有功能将音频和视频分开存储。

1. **剪辑**：在剪辑时，我们可以将clip的fps设置为120，这样在后续操作中，达芬奇会自动处理视频的长度，无需我们手动加速。然后，我们可以选择对应的音频和视频，选择"音视频同步"，使用timecode进行同步，这会生成一个新的clip。这个clip是一个同步后的多视角视频，其中包含两条音轨。一条音轨是相机拍摄的视频中自带的音轨，也就是没有声音的音轨。另一条音轨是额外生成的一个wav文件。下面我们就可以使用这个新生成的clip进行正常的剪辑。但是，在默认情况下，它使用的是静音的音轨。所以，在剪辑完成后，我们还需要在timeline中解锁音视频，然后将音频切换到视角2，也就是wav文件。
2. **上屏**：在上屏方面，我们可以先创建一个60fps的timeline进行正常剪辑。由于clip的fps已经设置为正确的120，所以当我们将clip拖入时，时间是正确的，无需加速，达芬奇会自动进行抽帧或混合。这时，我们就可以正常使用blackmagic remote monitor这个app进行上屏调色。在调色完成后，我们可以创建一个120fps的timeline，将60fps的timeline的所有内容全选复制粘贴过去，然后进行正常的120fps的渲染。
	
总的来说，我觉得在支持120fps的设备下，120fps相比于60fps的改进是非常明显的，这种改进比4K到8K的改进更为显著。然而，无论是Windows还是Mac，几乎没有支持120fps+广色域+高分辨率+高动态+高色准的屏幕。这可能主要是由于DP等接口的传输速率限制。现在，我们只能先进行拍摄和剪辑，等待技术的进步战未来了。

<script async data-uid="65448d4615" src="https://yage.kit.com/65448d4615/index.js"></script>
